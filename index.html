<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Phish Patrol: Operation Firewall ‚Äî Start + Slower + Clear Stats</title>
<style>
  :root{--cyan:#00ffff}
  body{background:radial-gradient(circle at center,#0b0f14,#13232f);font-family:'Segoe UI',system-ui,-apple-system,sans-serif;color:#fff;margin:0;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding-bottom:20px}
  .top-logos{display:flex;justify-content:center;align-items:center;gap:20px;margin-top:10px}
  .top-logos img{height:46px;object-fit:contain;background:#fff;border-radius:8px;padding:4px}
  h1{color:var(--cyan);text-shadow:0 0 12px var(--cyan);margin:8px 0}
  #hud{display:flex;gap:12px;flex-wrap:wrap;width:90%;max-width:820px;margin-top:10px}
  .hud-card{background:rgba(255,255,255,.06);padding:8px 12px;border-radius:8px;box-shadow:0 0 14px rgba(0,255,255,.12)}
  #healthBar{flex:1 1 100%;background:#222;border-radius:6px;height:14px}
  #healthFill{background:linear-gradient(90deg,#32cd32,#00ffcc);height:100%;width:100%;border-radius:6px;transition:width .35s ease}
  #inbox{margin-top:14px;width:90%;max-width:820px;background:rgba(255,255,255,0.07);padding:10px;border-radius:10px;box-shadow:0 0 20px rgba(0,255,255,0.16);overflow-y:auto;height:56vh}
  .mail{display:flex;align-items:flex-start;gap:12px;background:rgba(0,0,0,0.3);border-left:4px solid var(--cyan);padding:10px;margin:10px 0;border-radius:8px;opacity:0;animation:fadeIn .45s forwards}
  .mail-text{flex:1}
  @keyframes fadeIn{to{opacity:1}}
  .actions{margin-top:8px;display:flex;gap:8px}
  .btn{margin:0;border:none;border-radius:6px;padding:7px 12px;font-size:.92rem;cursor:pointer;transition:transform .12s,filter .15s}
  .btn:hover{transform:translateY(-1px);filter:brightness(1.08)}
  .report{background:#ff4040;color:#fff}
  .safe{background:#00bfff;color:#fff}
  #status{margin-top:8px;font-weight:600;min-height:22px}
  #restart,#start{margin-top:12px;padding:10px 18px;border:none;border-radius:8px;background:var(--cyan);color:#000;cursor:pointer}
  #restart{display:none}
  .muted{opacity:.8;font-size:.9rem}
</style>
</head>
<body>
  <div class="top-logos">
    <img src="tata.png" alt="logo">
    <img src="iiser.png" alt="logo">
    <img src="pcmc.png" alt="logo">
    <img src="kalpakghar.png" alt="logo">
  </div>

  <h1>Phish Patrol: Operation Firewall</h1>
  <div class="muted">Spot the phish, ignore the safe. Protect network integrity for 90 seconds.</div>

  <button id="start">Start Mission</button>

  <div id="hud">
    <div class="hud-card" id="score">Score: 0</div>
    <div class="hud-card" id="timer">Time: 90</div>
    <div class="hud-card" id="shown">Shown: 0</div>
    <div class="hud-card" id="correct">Correct: 0</div>
    <div class="hud-card">Network Integrity</div>
    <div id="healthBar"><div id="healthFill"></div></div>
  </div>

  <div id="inbox"></div>
  <div id="status"></div>
  <button id="restart">Restart Mission</button>

<script>
  // UI refs
  const inbox = document.getElementById('inbox');
  const scoreBox = document.getElementById('score');
  const timerBox = document.getElementById('timer');
  const shownBox = document.getElementById('shown');
  const correctBox = document.getElementById('correct');
  const healthFill = document.getElementById('healthFill');
  const statusBox = document.getElementById('status');
  const restartBtn = document.getElementById('restart');
  const startBtn = document.getElementById('start');

  // State
  let score = 0, timeLeft = 90, health = 100, timer, gameActive = false, spawnTimer;
  let notificationsShown = 0, correctActions = 0;

  // 50 generic, India-relevant notifications (no org names)
  const mails = [
    {text:'Bank Alert: Unusual login attempt detected. Verify account access.',type:'phish'},
    {text:'UPI: Pending payment ‚Äî click to confirm transaction.',type:'phish'},
    {text:'Tax Portal: Refund initiated ‚Äî submit PAN to claim.',type:'phish'},
    {text:'Delivery: Parcel awaiting payment for re-delivery.',type:'phish'},
    {text:'Mobile Operator: Recharge failed ‚Äî update payment info.',type:'phish'},
    {text:'Account Notice: Password expired ‚Äî reset now to continue.',type:'phish'},
    {text:'Reward Offer: You won cashback ‚Äî claim by entering card details.',type:'phish'},
    {text:'Job Application: Interview scheduled ‚Äî download attachment.',type:'phish'},
    {text:'Government Services: KYC pending ‚Äî upload documents immediately.',type:'phish'},
    {text:'Instant Loan: Pre-approved ‚Äî click link to apply.',type:'phish'},

    {text:'System: Software update installed successfully.',type:'safe'},
    {text:'Security Tip: Enable two-factor authentication for safer login.',type:'safe'},
    {text:'IT Notice: Scheduled maintenance tonight; services may be unavailable.',type:'safe'},
    {text:'Payroll: Salary credit processed; check your payslip.',type:'safe'},
    {text:'Meeting Invite: Team sync at 10:30 AM tomorrow.',type:'safe'},
    {text:'Event Registration: Your seat is confirmed for the workshop.',type:'safe'},
    {text:'Backup: Your files were backed up to cloud storage.',type:'safe'},
    {text:'Alert: New device logged in to your account from the same city.',type:'safe'},
    {text:'Reminder: Update contact details in your profile.',type:'safe'},
    {text:'Notification: Password policy updated ‚Äî please review.',type:'safe'},

    {text:'OTP Alert: One-time password sent to your registered number.',type:'safe'},
    {text:'Subscription: Your plan will renew automatically.',type:'safe'},
    {text:'Invoice: Payment received for your utility bill.',type:'safe'},
    {text:'Support: Ticket closed ‚Äî issue resolved.',type:'safe'},
    {text:'Alert: Multiple failed sign-in attempts were blocked.',type:'safe'},
    {text:'Reminder: Complete your tax filing before the deadline.',type:'safe'},
    {text:'Campus Notice: Library schedule changes this week.',type:'safe'},
    {text:'Data Usage: High mobile data usage detected.',type:'safe'},
    {text:'Safety Tip: Never share OTPs with anyone.',type:'safe'},
    {text:'Info: Change in terms of service ‚Äî please review.',type:'safe'},

    {text:'Fake Invoice: Download attached bill to view charges.',type:'phish'},
    {text:'Prize Draw: You are shortlisted ‚Äî submit bank details.',type:'phish'},
    {text:'Emergency Loan: Quick approval with zero documentation.',type:'phish'},
    {text:'Survey Reward: Complete the survey to receive a voucher.',type:'phish'},
    {text:'Subscription Cancellation: Your account will be closed ‚Äî confirm here.',type:'phish'},
    {text:'Private Album: View photos ‚Äî login required.',type:'phish'},
    {text:'Crypto Wallet: Transfer required to unlock your account.',type:'phish'},
    {text:'Refund Hold: Tax refund is on hold ‚Äî verify details.',type:'phish'},
    {text:'Immediate Payment: Transfer required to avoid penalty.',type:'phish'},
    {text:'Security Patch: Critical update (EXE) available.',type:'phish'},

    {text:'Community Notice: Local event rescheduled ‚Äî see details.',type:'safe'},
    {text:'Health Advisory: Free vaccination camp dates announced.',type:'safe'},
    {text:'Education: Exam timetable released for students.',type:'safe'},
    {text:'Traffic Alert: Road closure near your area tomorrow morning.',type:'safe'},
    {text:'Payment Confirmation: Your utility bill was paid successfully.',type:'safe'},
    {text:'Vehicle Insurance: Renew before the expiry date.',type:'safe'},
    {text:'Official Circular: New notice published on the portal.',type:'safe'},
    {text:'Weather Alert: Heavy rain warning in your district.',type:'safe'},
    {text:'Govt Tip: Use official apps for services, avoid third-party links.',type:'safe'},
    {text:'Public Holiday: Declared for next week in your city.',type:'safe'}
  ];

  function randomMail(){ return mails[Math.floor(Math.random()*mails.length)]; }

  function spawnMail(){
    if(!gameActive) return;
    notificationsShown++;
    shownBox.textContent = 'Shown: ' + notificationsShown;
    const m = randomMail();
    const row = document.createElement('div');
    row.className = 'mail';
    const text = document.createElement('div');
    text.className = 'mail-text';
    text.textContent = m.text;
    const actions = document.createElement('div');
    actions.className = 'actions';
    const reportBtn = document.createElement('button');
    reportBtn.textContent = 'üö® Report Phish';
    reportBtn.className = 'btn report';
    reportBtn.onclick = () => checkMail(m, true, row);
    const safeBtn = document.createElement('button');
    safeBtn.textContent = 'üïäÔ∏è Safe';
    safeBtn.className = 'btn safe';
    safeBtn.onclick = () => checkMail(m, false, row);
    actions.append(reportBtn, safeBtn);
    text.appendChild(actions);
    row.appendChild(text);
    inbox.prepend(row);
  }

  function checkMail(m,reported,row){
    if(!gameActive) return;
    if(m.type==='phish'&&reported){ score+=2; correctActions++; statusBox.textContent='‚úÖ Phish neutralized!'; }
    else if(m.type==='safe'&&!reported){ score+=1; correctActions++; statusBox.textContent='üëç Safe message ignored.'; }
    else { score-=1; health-=15; statusBox.textContent='‚ùå Wrong action! Integrity damaged.'; }
    scoreBox.textContent = 'Score: ' + score;
    correctBox.textContent = 'Correct: ' + correctActions;
    healthFill.style.width = Math.max(0,health) + '%';
    if(health<=0) endGame();
    row.remove();
  }

  function startGame(){
    score=0;timeLeft=90;health=100;notificationsShown=0;correctActions=0;gameActive=true;
    scoreBox.textContent='Score: 0';timerBox.textContent='Time: 90';shownBox.textContent='Shown: 0';correctBox.textContent='Correct: 0';
    healthFill.style.width='100%';statusBox.textContent='';inbox.innerHTML='';restartBtn.style.display='none';startBtn.style.display='none';
    timer=setInterval(()=>{timeLeft--;timerBox.textContent='Time: '+timeLeft;if(timeLeft<=0)endGame();},1000);
    // Slower spawn (every 3.5 seconds)
    spawnTimer=setInterval(()=>{if(!gameActive)return clearInterval(spawnTimer);spawnMail();},3500);
  }

  function endGame(){
    gameActive=false;clearInterval(timer);clearInterval(spawnTimer);
    const accuracy = notificationsShown ? Math.round((correctActions/notificationsShown)*100) : 0;
    inbox.innerHTML='<h2>Mission Over!</h2>'+
      '<p>Final Score: '+score+'</p>'+
      '<p>Notifications Displayed: '+notificationsShown+'</p>'+
      '<p>Correct Actions: '+correctActions+' ('+accuracy+'% accuracy)</p>';
    statusBox.textContent='Mission complete!';
    restartBtn.style.display='block';startBtn.style.display='block';
  }

  restartBtn.onclick=()=>startGame();
  startBtn.onclick=()=>startGame();
</script>
</body>
</html>
